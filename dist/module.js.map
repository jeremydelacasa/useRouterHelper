{"mappings":"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","sources":["src/index.js"],"sourcesContent":["import {\n  generatePath,\n  useHistory,\n  useLocation,\n  useParams,\n} from \"react-router-dom\";\n\nconst useRouter = () => {\n  const history = useHistory();\n  const searchParams = useSearchParams();\n  const params = useParams();\n  const location = useLocation();\n\n  const updateSearchParams = (newParams = {}, { stack = \"push\" } = {}) => {\n    history[stack](\n      `${location.pathname}${generateSearchParamsString({\n        ...searchParams,\n        ...newParams,\n      })}`\n    );\n  };\n\n  const replaceSearchParams = (newParams = {}, { stack = \"push\" } = {}) => {\n    history[stack](\n      `${location.pathname}${generateSearchParamsString(newParams)}`\n    );\n  };\n\n  const deleteSearchParams = (\n    deleteParamList = [],\n    { stack = \"push\" } = {}\n  ) => {\n    history[stack](\n      `${location.pathname}${generateSearchParamsString(\n        Object.keys(searchParams).reduce(\n          (acc, cur) =>\n            deleteParamList.includes(cur)\n              ? acc\n              : { ...acc, [cur]: searchParams[cur] },\n          {}\n        )\n      )}`\n    );\n  };\n\n  const push = (\n    url,\n    { params: paramsPushed = {}, searchParams: searchParamsPushed = {} } = {}\n  ) => {\n    history.push(\n      `${generatePath(url, paramsPushed)}${generateSearchParamsString(\n        searchParamsPushed\n      )}`\n    );\n  };\n  const replace = (\n    url,\n    {\n      params: paramsReplaced = {},\n      searchParams: searchParamsReplaced = {},\n    } = {}\n  ) => {\n    history.replace(\n      `${generatePath(url, paramsReplaced)}${generateSearchParamsString(\n        searchParamsReplaced\n      )}`\n    );\n  };\n\n  return {\n    updateSearchParams,\n    replaceSearchParams,\n    deleteSearchParams,\n    push,\n    replace,\n    params,\n    searchParams,\n    location,\n  };\n};\n\nconst useSearchParams = () => {\n  const { search } = useLocation();\n  const urlSearchParams = new URLSearchParams(search);\n  const params = Object.fromEntries(urlSearchParams.entries());\n\n  return Object.keys(params).reduce((acc, key) => {\n    let value = params[key];\n\n    if (!value) {\n      return acc;\n    }\n\n    try {\n      value = JSON.parse(params[key]);\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.log(e);\n    }\n\n    return { ...acc, [key]: value };\n  }, {});\n};\n\nconst generateSearchParamsString = (params) =>\n  `?${Object.keys(params).reduce((acc, cur, index, array) => {\n    const value = params[cur];\n\n    return `${acc}${cur}=${JSON.stringify(value)}${\n      array.length !== index + 1 ? \"&\" : \"\"\n    }`;\n  }, \"\")}`;\n\nexport default useRouter;\n"],"names":[],"version":3,"file":"module.js.map"}